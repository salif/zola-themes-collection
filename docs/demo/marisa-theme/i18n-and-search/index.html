<!doctype html><html lang=en><head><meta charset=utf-8><meta content=same-origin name=referrer><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="light dark" name=color-scheme><title>i18n and search functions</title><meta content="how marisa-theme does these?" name=description><meta content="i18n and search functions" property=og:title><meta content=article property=og:type><meta content=https://salif.github.io/zola-themes-collection/demo/marisa-theme/i18n-and-search/ property=og:url><meta content=https://salif.github.io/zola-themes-collection/demo/marisa-theme/processed_images/default-feature-image.9108652f6175f48e.webp property=og:image><meta content=@bitinn@mastodon.gamedev.place name=fediverse:creator><link href="https://salif.github.io/zola-themes-collection/demo/marisa-theme/layout.css?h=deb4f4889e4298f6749d" defer rel=stylesheet><link href="https://salif.github.io/zola-themes-collection/demo/marisa-theme/pico/pico.classless.amber.min.css?h=cb93173af4645d3cc1af" defer rel=stylesheet><link href="https://salif.github.io/zola-themes-collection/demo/marisa-theme/marisa.css?h=dfcc1328ebd7509c709c" defer rel=stylesheet><link href="https://salif.github.io/zola-themes-collection/demo/marisa-theme/code-dark.css?h=9a7e00379f098d14a6f6" media="(prefers-color-scheme: dark)" rel=stylesheet><link href="https://salif.github.io/zola-themes-collection/demo/marisa-theme/code-light.css?h=8eedbfa99cfaa9b241cc" media="(prefers-color-scheme: light)" rel=stylesheet><link href="https://salif.github.io/zola-themes-collection/demo/marisa-theme/favicon.ico?h=d736a2163cd71b352132" rel=icon><link href="https://salif.github.io/zola-themes-collection/demo/marisa-theme/apple-touch-icon.png?h=96a658c82e3e1ed94efe" rel=apple-touch-icon><link title="Site Feed (atom.xml)" href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/atom.xml rel=alternate type=application/atom+xml><script src="https://salif.github.io/zola-themes-collection/demo/marisa-theme/search_index.en.js?h=d4897d19a8299e49d83f" defer></script><script src="https://salif.github.io/zola-themes-collection/demo/marisa-theme/fuse.basic.min.js?h=1ab274a4d4b8f6d992ab" defer></script><script src="https://salif.github.io/zola-themes-collection/demo/marisa-theme/marisa.js?h=3ef2babf993e2bdaa66e" defer></script><link href=https://webmention.io/theme.marisa.club/webmention rel=webmention><link href=https://webmention.io/theme.marisa.club/xmlrpc rel=pingback><body><header class=sidebar><section class=h-card><hgroup><a href=https://salif.github.io/zola-themes-collection/demo/marisa-theme><img alt="Marisa theme" class="logo u-logo u-photo" src=https://salif.github.io/zola-themes-collection/demo/marisa-theme/marisa.png></a><h1><a class="p-name u-url u-uid" href=https://salif.github.io/zola-themes-collection/demo/marisa-theme>Marisa theme</a></h1><p class=p-note><span>A demo site for marisa-theme</span>,<br><small>written by</small> <i class=p-author>David Frank</i></hgroup></section><section><div><form><input aria-busy=true id=search name=search placeholder=Search type=search></form><hr></div><div><details name=navigation><summary><strong>📄 Pages</strong></summary> <nav class=list><ul><li><a class=outline href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/about/ role=button>About</a><li><a class=outline href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/topics role=button>Topics</a><li><a class=outline href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/archive role=button>Archive</a></ul></nav></details><hr></div><div><details name=navigation><summary><strong>🔖 Topics</strong></summary> <nav class=list><ul><li><a class=outline href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/topics/indie-web/ role=button>Indie Web</a><li><a class=outline href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/topics/status/ role=button>Status</a></ul></nav></details><hr></div><div><details name=navigation><summary><strong>🔗 Other Links</strong></summary> <nav class=list><ul><li><a class=contrast href=https://codeberg.org/bitinn/marisa-theme rel=me>Theme Repo</a><li><a class=contrast href=https://codeberg.org/bitinn rel=me>codeberg/bitinn</a><li><a class=contrast href=https://github.com/bitinn rel=me>github</a></ul></nav></details><hr></div><div><details name=navigation><summary><strong>💍 Webring</strong></summary> <nav class=list><ul><li><a class=secondary href=https://xn--sr8hvo.ws/previous>←</a><li><a class=contrast href=https://xn--sr8hvo.ws/>Join an IndieWeb Webring</a><li><a class=secondary href=https://xn--sr8hvo.ws/next>→</a></ul></nav></details><hr></div></section></header><main class=content id=top><article class=h-entry><header><hgroup><h2><a href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/i18n-and-search/>i18n and search functions</a></h2><nav><ul><li><span data-tooltip=Date>📅</span><li><em class=dt-published>2025/10/05</em></ul></nav><nav><ul><li><span data-tooltip=Authors>👤</span><li><em>David Frank</em></ul></nav><nav><ul><li><span data-tooltip=Topics>🔖</span><li><a href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/topics/indie-web/><em>Indie Web</em></a></ul></nav></hgroup></header><section class=toc><details name=toc><summary>Table of Contents</summary> <nav><ul><li><small><a href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/i18n-and-search/#i18n>i18n</a></small><li><small><a href=https://salif.github.io/zola-themes-collection/demo/marisa-theme/i18n-and-search/#search>search</a></small></ul></nav></details><hr></section><section class="body e-content"><h3 id=i18n><a class="secondary anchor" href=#i18n><small>#</small></a>i18n</h3><p>Translation in <strong>Marisa</strong> is done differently from Zola’s built-in way.<p>We use an object <code>marisa_i18n</code> in <code>[extra]</code> section of <code>thene.toml</code> to define i18n data.<p>This allows for quick site-specific translation without using any third-party tools, as well as to provide some nicety like matching emoji to text, or using quoted text with string replacement.<pre class="language-toml z-code" data-lang=toml><code class=language-toml data-lang=toml><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">marisa_i18n</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span>
</span><span class="z-source z-toml">    <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">name</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>default_icon<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">icon</span></span><span class="z-punctuation z-definition z-key-value z-toml">=</span><span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>🔸<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">zh</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span><span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">en</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span><span class="z-punctuation z-definition z-string z-end z-toml">"</span></span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">    <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">name</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>date<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">icon</span></span><span class="z-punctuation z-definition z-key-value z-toml">=</span><span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>📅<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">en</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>Date<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">zh</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>日期<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">    <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">name</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>continue_reading,_$1_mins<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">icon</span></span><span class="z-punctuation z-definition z-key-value z-toml">=</span><span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>⏰<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">en</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>Continue reading, est. $1 mins<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">zh</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">"</span>继续阅读，大约 $1 分钟<span class="z-punctuation z-definition z-string z-end z-toml">"</span></span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span></code></pre><p>The text is then loaded through <code>macros/page-i18n.html</code>, which handles the i18n automatically, as defined by <code>default_language</code>.<h3 id=search><a class="secondary anchor" href=#search><small>#</small></a>search</h3><p><strong>Marisa</strong> currently only support <code>Fuse/Tinysearch</code> based search indexes, this is chosen based on the actual usage: users likely want a fuzzy search instead of some advanced boolean ops.<p>See more at <a class=external href=https://www.getzola.org/documentation/content/search/ rel=noopener target=_blank>Zola</a> and <a class=external href=https://www.fusejs.io rel=noopener target=_blank>Fuse’s</a> documentation.</section><footer><form id=wm-field><fieldset data-tooltip="📮 Have you written a response? Post webmention here!" role=group><input placeholder="✍️ Paste the URL here" id=wm-field-source name=source required type=url><input id=wm-field-target name=target type=hidden><input value="📮 Post" type=submit></fieldset></form><nav data-user=@bitinn@mastodon.gamedev.place id=wm-data><ul class=social><li><span>🌐</span> <a href=#wm-social-link id=wm-social-link>View comments on fediverse</a></ul><ul class=social><li><span data-tooltip=Likes>❤️</span> <span id=wm-like-count>0</span><li><span data-tooltip=Shares>📮</span> <span id=wm-share-count>0</span><li><span data-tooltip=Discussions>💬</span> <span id=wm-reply-count>0</span></ul><ul><li><a data-tooltip="Return to Top" href=#top>🔝</a></ul></nav><section class=interaction id=wm-interaction><hr><details><summary>Likes</summary> <div id=wm-like-users></div></details><details><summary>Shares</summary> <div id=wm-share-users></div></details><details><summary>Replies</summary> <div id=wm-reply-users></div></details></section></footer></article></main><dialog id=search-results onclick=closeSearchDialog(event);><article><header><a aria-label=Close class=close href=#close onclick=closeSearchDialog(event);></a><p>🔍 Search results</header><section class=body id=search-results-items></section></article></dialog>