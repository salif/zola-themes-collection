<!doctype html><html prefix="og: https://ogp.me/ns#" lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>
Creating Oscillators with JavaScript | rilling.dev
</title><link href="https://salif.github.io/zola-themes-collection/demo/rilling_dev/main.css?h=7d87a9752ba8dfef13bb" rel=stylesheet><meta content=#222222 name=theme-color><meta content="F. Rilling" name=author><meta content="This article shows how the Web Audio API can be used to create an oscillator that produces a simple sound." name=description><meta content="Creating Oscillators with JavaScript" property=og:title><meta content=article property=og:type><meta content=https://salif.github.io/zola-themes-collection/demo/rilling_dev/apple-touch-icon.png property=og:image><meta content=https://salif.github.io/zola-themes-collection/demo/rilling_dev/ property=og:url><meta content="This article shows how the Web Audio API can be used to create an oscillator that produces a simple sound." property=og:description><meta content=en property=og:locale><meta content=rilling.dev property=og:site_name><meta content=2015-07-03 property=article:published_time><meta content=2023-08-24 property=article:modified_time><meta content="F. Rilling" property=article:author><meta content="JavaScript, Audio" property=article:tag><link href=/favicon.ico rel=icon sizes=32x32><link href=/favicon.svg rel=icon type=image/svg+xml><link href=/apple-touch-icon.png rel=apple-touch-icon><link href=https://salif.github.io/zola-themes-collection/demo/rilling_dev/atom.xml rel=alternate type=application/atom+xml><link href=https://salif.github.io/zola-themes-collection/demo/rilling_dev/rss.xml rel=alternate type=application/rss+xml><body><a class=skip-link href=#main>Skip to main content</a><header><nav class=navbar><a class=navbar__title href=https://salif.github.io/zola-themes-collection/demo/rilling_dev/> <svg viewbox="0 0 640 640" aria-hidden=true fill=currentcolor height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M392.8 65.2C375.8 60.3 358.1 70.2 353.2 87.2L225.2 535.2C220.3 552.2 230.2 569.9 247.2 574.8C264.2 579.7 281.9 569.8 286.8 552.8L414.8 104.8C419.7 87.8 409.8 70.1 392.8 65.2zM457.4 201.3C444.9 213.8 444.9 234.1 457.4 246.6L530.8 320L457.4 393.4C444.9 405.9 444.9 426.2 457.4 438.7C469.9 451.2 490.2 451.2 502.7 438.7L598.7 342.7C611.2 330.2 611.2 309.9 598.7 297.4L502.7 201.4C490.2 188.9 469.9 188.9 457.4 201.4zM182.7 201.3C170.2 188.8 149.9 188.8 137.4 201.3L41.4 297.3C28.9 309.8 28.9 330.1 41.4 342.6L137.4 438.6C149.9 451.1 170.2 451.1 182.7 438.6C195.2 426.1 195.2 405.8 182.7 393.3L109.3 320L182.6 246.6C195.1 234.1 195.1 213.8 182.6 201.3z"/></svg> <span>rilling.dev</span> </a><ul class=navbar__nav><li><a class=navbar__nav__link href=https://salif.github.io/zola-themes-collection/demo/rilling_dev//> Blog </a><li><a class=navbar__nav__link href=https://salif.github.io/zola-themes-collection/demo/rilling_dev//about/> About </a></ul></nav></header><main class=main id=main><article class="article article--full"><header><h1 class=article__title>Creating Oscillators with JavaScript</h1><div class=article__meta><span> Published: <time datetime=2015-07-03>2015-07-03</time> </span><span> Last updated: <time datetime=2023-08-24>2023-08-24</time> </span></div></header><div class=article__content><p>The <a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API rel=noopener target=_blank>Web Audio API</a> is a JavaScript API that allows for complex audio operations in JavaScript, such as creating oscillators or applying audio effects. All modern browsers <a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API#browser_compatibility rel=noopener target=_blank>support it</a>.<p>This article shows how the Web Audio API can be used to create an oscillator that produces a simple sound. You can try the result on <a href=https://codepen.io/RillingDev/pen/MWorWmG rel=noopener target=_blank>CodePen</a>.</p><span id=continue-reading></span><h2 id=general-concepts>General Concepts</h2><p>The following concepts are fundamental to understanding the Web Audio API:<dl><dt>Audio node<dd>A <a href=https://en.wikipedia.org/wiki/Node_(computer_science) rel=noopener target=_blank>node</a> that has an audio signal as its in- and/or output. There are sound-producing nodes, as well as nodes that process and modify sounds.<dt>Oscillators<dd>In this context, this refers to an <a href=https://en.wikipedia.org/wiki/Electronic_oscillator rel=noopener target=_blank>electronic audio oscillator</a>. It creates a basic audio signal and is thus a sound-producing audio node.<dt>Audio routing graph<dd>A <a href=https://en.wikipedia.org/wiki/Graph_(abstract_data_type) rel=noopener target=_blank>graph</a> of audio nodes that routes the audio signal through them. In simple cases, it can act like a “pipeline” where the audio signal from a sound-producing node travels through some other nodes until it reaches the audio output.</dl><h2 id=initializing-the-web-audio-api>Initializing the Web Audio API</h2><p>To use the Web Audio API, we first have to create an <a href=https://developer.mozilla.org/en-US/docs/Web/API/AudioContext rel=noopener target=_blank><code>AudioContext</code></a>. This acts as the audio routing graph.<pre class="language-javascript z-code" data-lang=javascript><code class=language-javascript data-lang=javascript><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-storage z-type z-ts">const</span> <span class="z-meta z-var-single-variable z-expr z-ts"><span class="z-meta z-definition z-variable z-ts"><span class="z-variable z-other z-constant z-ts">audioCtx</span></span> </span><span class="z-keyword z-operator z-assignment z-ts">=</span> <span class="z-new z-expr z-ts"><span class="z-keyword z-operator z-new z-ts">new</span> <span class="z-entity z-name z-type z-ts">AudioContext</span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-brace z-round z-ts">)</span></span></span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span></code></pre><p>Then add a basic oscillator node to the context, using the <a href=https://developer.mozilla.org/en-US/docs/Web/API/OscillatorNode rel=noopener target=_blank><code>OscillatorNode</code></a> constructor:<pre class="language-javascript z-code" data-lang=javascript><code class=language-javascript data-lang=javascript><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-storage z-type z-ts">const</span> <span class="z-meta z-var-single-variable z-expr z-ts"><span class="z-meta z-definition z-variable z-ts"><span class="z-variable z-other z-constant z-ts">oscNode</span></span> </span><span class="z-keyword z-operator z-assignment z-ts">=</span> <span class="z-new z-expr z-ts"><span class="z-keyword z-operator z-new z-ts">new</span> <span class="z-entity z-name z-type z-ts">OscillatorNode</span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-readwrite z-ts">audioCtx</span><span class="z-punctuation z-separator z-comma z-ts">,</span> <span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">{</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-comment z-block z-ts"><span class="z-punctuation z-definition z-comment z-ts">/*</span>
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 * Several common waveforms are available such as "sine", "square" or "sawtooth".
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 * For a full list see https://developer.mozilla.org/en-US/docs/Web/API/OscillatorNode/type.
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 <span class="z-punctuation z-definition z-comment z-ts">*/</span></span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts">type</span></span><span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts"><span class="z-punctuation z-separator z-key-value z-ts">:</span></span> <span class="z-string z-quoted z-double z-ts"><span class="z-punctuation z-definition z-string z-begin z-ts">"</span>sine<span class="z-punctuation z-definition z-string z-end z-ts">"</span></span></span><span class="z-punctuation z-separator z-comma z-ts">,</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-comment z-block z-ts"><span class="z-punctuation z-definition z-comment z-ts">/*</span>
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 * The frequency of the oscillator in hertz, 440 equals an "A4" key on a piano.
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 * See https://en.wikipedia.org/wiki/Piano_key_frequencies
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 * for mapping between keys and frequencies.
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 <span class="z-punctuation z-definition z-comment z-ts">*/</span></span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts">frequency</span></span><span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts"><span class="z-punctuation z-separator z-key-value z-ts">:</span></span> <span class="z-constant z-numeric z-decimal z-ts">440</span></span><span class="z-punctuation z-separator z-comma z-ts">,</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">}</span></span><span class="z-meta z-brace z-round z-ts">)</span></span></span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-comment z-block z-ts"><span class="z-punctuation z-definition z-comment z-ts">/*</span>
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> * Directly connect the output of the oscillator to the audio output.
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> * Later additional nodes could be inserted between the two.
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> <span class="z-punctuation z-definition z-comment z-ts">*/</span></span>
</span><span class="z-source z-ts"><span class="z-meta z-function-call z-ts"><span class="z-variable z-other z-object z-ts">oscNode</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-entity z-name z-function z-ts">connect</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-object z-ts">audioCtx</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-variable z-other z-property z-ts">destination</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span></code></pre><p>By default, the oscillator is in an “off” state and does not create any sound. The methods <a href=https://developer.mozilla.org/en-US/docs/Web/API/AudioScheduledSourceNode/start rel=noopener target=_blank><code>OscillatorNode#start</code></a> and <a href=https://developer.mozilla.org/en-US/docs/Web/API/AudioScheduledSourceNode/stop rel=noopener target=_blank><code>OscillatorNode#stop</code></a> toggle this.<pre class="language-javascript z-code" data-lang=javascript><code class=language-javascript data-lang=javascript><span class="z-source z-ts"><span class="z-comment z-line z-double-slash z-ts"><span class="z-punctuation z-definition z-comment z-ts">//</span></span><span class="z-comment z-line z-double-slash z-ts"> Start playing sound. WARNING: can be loud!</span>
</span><span class="z-source z-ts"><span class="z-meta z-function-call z-ts"><span class="z-variable z-other z-object z-ts">oscNode</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-entity z-name z-function z-ts">start</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts"><span class="z-comment z-line z-double-slash z-ts"><span class="z-punctuation z-definition z-comment z-ts">//</span></span><span class="z-comment z-line z-double-slash z-ts"> Stop sound after 3 seconds.</span>
</span><span class="z-source z-ts"><span class="z-meta z-function-call z-ts"><span class="z-support z-function z-ts">setTimeout</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-arrow z-ts"><span class="z-meta z-parameters z-ts"><span class="z-punctuation z-definition z-parameters z-begin z-ts">(</span><span class="z-punctuation z-definition z-parameters z-end z-ts">)</span></span> </span><span class="z-meta z-arrow z-ts"><span class="z-storage z-type z-function z-arrow z-ts">=></span> </span><span class="z-meta z-function-call z-ts"><span class="z-variable z-other z-object z-ts">oscNode</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-support z-function z-ts">stop</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-separator z-comma z-ts">,</span> <span class="z-constant z-numeric z-decimal z-ts">3000</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span></code></pre><p>At this point, you should be hearing the newly created oscillator play a sound in the key A4 for 3 seconds.<h2 id=controlling-the-volume>Controlling the Volume</h2><p>To control the output volume, we can create a <a href=https://developer.mozilla.org/en-US/docs/Web/API/GainNode rel=noopener target=_blank><code>GainNode</code></a>, and insert it between the oscillator, and the audio output.<pre class="language-javascript z-code" data-lang=javascript><code class=language-javascript data-lang=javascript><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-storage z-type z-ts">const</span> <span class="z-meta z-var-single-variable z-expr z-ts"><span class="z-meta z-definition z-variable z-ts"><span class="z-variable z-other z-constant z-ts">audioCtx</span></span> </span><span class="z-keyword z-operator z-assignment z-ts">=</span> <span class="z-new z-expr z-ts"><span class="z-keyword z-operator z-new z-ts">new</span> <span class="z-entity z-name z-type z-ts">AudioContext</span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-brace z-round z-ts">)</span></span></span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-storage z-type z-ts">const</span> <span class="z-meta z-var-single-variable z-expr z-ts"><span class="z-meta z-definition z-variable z-ts"><span class="z-variable z-other z-constant z-ts">oscNode</span></span> </span><span class="z-keyword z-operator z-assignment z-ts">=</span> <span class="z-new z-expr z-ts"><span class="z-keyword z-operator z-new z-ts">new</span> <span class="z-entity z-name z-type z-ts">OscillatorNode</span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-readwrite z-ts">audioCtx</span><span class="z-punctuation z-separator z-comma z-ts">,</span> <span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">{</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts">type</span></span><span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts"><span class="z-punctuation z-separator z-key-value z-ts">:</span></span> <span class="z-string z-quoted z-double z-ts"><span class="z-punctuation z-definition z-string z-begin z-ts">"</span>sine<span class="z-punctuation z-definition z-string z-end z-ts">"</span></span></span><span class="z-punctuation z-separator z-comma z-ts">,</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts">frequency</span></span><span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts"><span class="z-punctuation z-separator z-key-value z-ts">:</span></span> <span class="z-constant z-numeric z-decimal z-ts">440</span></span><span class="z-punctuation z-separator z-comma z-ts">,</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">}</span></span><span class="z-meta z-brace z-round z-ts">)</span></span></span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-storage z-type z-ts">const</span> <span class="z-meta z-var-single-variable z-expr z-ts"><span class="z-meta z-definition z-variable z-ts"><span class="z-variable z-other z-constant z-ts">gainNode</span></span> </span><span class="z-keyword z-operator z-assignment z-ts">=</span> <span class="z-new z-expr z-ts"><span class="z-keyword z-operator z-new z-ts">new</span> <span class="z-entity z-name z-type z-ts">GainNode</span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-readwrite z-ts">audioCtx</span><span class="z-punctuation z-separator z-comma z-ts">,</span> <span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">{</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-whitespace z-comment z-leading z-ts">	</span><span class="z-comment z-line z-double-slash z-ts"><span class="z-punctuation z-definition z-comment z-ts">//</span></span><span class="z-comment z-line z-double-slash z-ts"> The default value is `1`. We reduce the volume to half of that.</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts">gain</span></span><span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts"><span class="z-punctuation z-separator z-key-value z-ts">:</span></span> <span class="z-constant z-numeric z-decimal z-ts">0<span class="z-meta z-delimiter z-decimal z-period z-ts">.</span>5</span></span><span class="z-punctuation z-separator z-comma z-ts">,</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">}</span></span><span class="z-meta z-brace z-round z-ts">)</span></span></span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-comment z-block z-ts"><span class="z-punctuation z-definition z-comment z-ts">/*</span>
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> * We route our audio signal from the oscillator node
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> * through the gain node, and then to the output.
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> <span class="z-punctuation z-definition z-comment z-ts">*/</span></span>
</span><span class="z-source z-ts"><span class="z-meta z-function-call z-ts"><span class="z-variable z-other z-object z-ts">oscNode</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-entity z-name z-function z-ts">connect</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-readwrite z-ts">gainNode</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-meta z-function-call z-ts"><span class="z-punctuation z-accessor z-ts">.</span><span class="z-entity z-name z-function z-ts">connect</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-object z-ts">audioCtx</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-variable z-other z-property z-ts">destination</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-meta z-function-call z-ts"><span class="z-variable z-other z-object z-ts">oscNode</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-entity z-name z-function z-ts">start</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts"><span class="z-meta z-function-call z-ts"><span class="z-support z-function z-ts">setTimeout</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-arrow z-ts"><span class="z-meta z-parameters z-ts"><span class="z-punctuation z-definition z-parameters z-begin z-ts">(</span><span class="z-punctuation z-definition z-parameters z-end z-ts">)</span></span> </span><span class="z-meta z-arrow z-ts"><span class="z-storage z-type z-function z-arrow z-ts">=></span> </span><span class="z-meta z-function-call z-ts"><span class="z-variable z-other z-object z-ts">oscNode</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-support z-function z-ts">stop</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-separator z-comma z-ts">,</span> <span class="z-constant z-numeric z-decimal z-ts">3000</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span></code></pre><h2 id=adding-effects>Adding Effects</h2><p>All kinds of audio effects can be applied to the audio signal. Here we add a <a href=https://developer.mozilla.org/en-US/docs/Web/API/PannerNode rel=noopener target=_blank><code>PannerNode</code></a> to pan the audio signal to the right stereo channel.<pre class="language-javascript z-code" data-lang=javascript><code class=language-javascript data-lang=javascript><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-storage z-type z-ts">const</span> <span class="z-meta z-var-single-variable z-expr z-ts"><span class="z-meta z-definition z-variable z-ts"><span class="z-variable z-other z-constant z-ts">audioCtx</span></span> </span><span class="z-keyword z-operator z-assignment z-ts">=</span> <span class="z-new z-expr z-ts"><span class="z-keyword z-operator z-new z-ts">new</span> <span class="z-entity z-name z-type z-ts">AudioContext</span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-brace z-round z-ts">)</span></span></span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-storage z-type z-ts">const</span> <span class="z-meta z-var-single-variable z-expr z-ts"><span class="z-meta z-definition z-variable z-ts"><span class="z-variable z-other z-constant z-ts">oscNode</span></span> </span><span class="z-keyword z-operator z-assignment z-ts">=</span> <span class="z-new z-expr z-ts"><span class="z-keyword z-operator z-new z-ts">new</span> <span class="z-entity z-name z-type z-ts">OscillatorNode</span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-readwrite z-ts">audioCtx</span><span class="z-punctuation z-separator z-comma z-ts">,</span> <span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">{</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts">type</span></span><span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts"><span class="z-punctuation z-separator z-key-value z-ts">:</span></span> <span class="z-string z-quoted z-double z-ts"><span class="z-punctuation z-definition z-string z-begin z-ts">"</span>sine<span class="z-punctuation z-definition z-string z-end z-ts">"</span></span></span><span class="z-punctuation z-separator z-comma z-ts">,</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts">frequency</span></span><span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts"><span class="z-punctuation z-separator z-key-value z-ts">:</span></span> <span class="z-constant z-numeric z-decimal z-ts">440</span></span><span class="z-punctuation z-separator z-comma z-ts">,</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">}</span></span><span class="z-meta z-brace z-round z-ts">)</span></span></span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-storage z-type z-ts">const</span> <span class="z-meta z-var-single-variable z-expr z-ts"><span class="z-meta z-definition z-variable z-ts"><span class="z-variable z-other z-constant z-ts">gainNode</span></span> </span><span class="z-keyword z-operator z-assignment z-ts">=</span> <span class="z-new z-expr z-ts"><span class="z-keyword z-operator z-new z-ts">new</span> <span class="z-entity z-name z-type z-ts">GainNode</span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-readwrite z-ts">audioCtx</span><span class="z-punctuation z-separator z-comma z-ts">,</span> <span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">{</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts">gain</span></span><span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts"><span class="z-punctuation z-separator z-key-value z-ts">:</span></span> <span class="z-constant z-numeric z-decimal z-ts">0<span class="z-meta z-delimiter z-decimal z-period z-ts">.</span>5</span></span><span class="z-punctuation z-separator z-comma z-ts">,</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">}</span></span><span class="z-meta z-brace z-round z-ts">)</span></span></span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-comment z-block z-ts"><span class="z-punctuation z-definition z-comment z-ts">/*</span>
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> * A `PannerNode` applies a panning effect,
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> * which can be used to change how the audio signal is distributed
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> * between the stereo channels.
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> <span class="z-punctuation z-definition z-comment z-ts">*/</span></span>
</span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-storage z-type z-ts">const</span> <span class="z-meta z-var-single-variable z-expr z-ts"><span class="z-meta z-definition z-variable z-ts"><span class="z-variable z-other z-constant z-ts">pannerNode</span></span> </span><span class="z-keyword z-operator z-assignment z-ts">=</span> <span class="z-new z-expr z-ts"><span class="z-keyword z-operator z-new z-ts">new</span> <span class="z-entity z-name z-type z-ts">PannerNode</span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-readwrite z-ts">audioCtx</span><span class="z-punctuation z-separator z-comma z-ts">,</span> <span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">{</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-comment z-block z-ts"><span class="z-punctuation z-definition z-comment z-ts">/*</span>
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 * The default is `0`.
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 * `1` moves the audio signal to the right stereo channel.
</span></span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-comment z-block z-ts">	 <span class="z-punctuation z-definition z-comment z-ts">*/</span></span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts">	<span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts">positionX</span></span><span class="z-meta z-object z-member z-ts"><span class="z-meta z-object-literal z-key z-ts"><span class="z-punctuation z-separator z-key-value z-ts">:</span></span> <span class="z-constant z-numeric z-decimal z-ts">1</span></span><span class="z-punctuation z-separator z-comma z-ts">,</span>
</span></span></span></span><span class="z-source z-ts"><span class="z-meta z-var z-expr z-ts"><span class="z-new z-expr z-ts"><span class="z-meta z-objectliteral z-ts"><span class="z-punctuation z-definition z-block z-ts">}</span></span><span class="z-meta z-brace z-round z-ts">)</span></span></span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-comment z-block z-ts"><span class="z-punctuation z-definition z-comment z-ts">/*</span>
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> * We route our audio from the oscillator through the effect node,
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> * through the gain node, and from there to the output.
</span></span><span class="z-source z-ts"><span class="z-comment z-block z-ts"> <span class="z-punctuation z-definition z-comment z-ts">*/</span></span>
</span><span class="z-source z-ts"><span class="z-meta z-function-call z-ts"><span class="z-variable z-other z-object z-ts">oscNode</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-entity z-name z-function z-ts">connect</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-readwrite z-ts">pannerNode</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-meta z-function-call z-ts"><span class="z-punctuation z-accessor z-ts">.</span><span class="z-entity z-name z-function z-ts">connect</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-readwrite z-ts">gainNode</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-meta z-function-call z-ts"><span class="z-punctuation z-accessor z-ts">.</span><span class="z-entity z-name z-function z-ts">connect</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-variable z-other z-object z-ts">audioCtx</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-variable z-other z-property z-ts">destination</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts">
</span><span class="z-source z-ts"><span class="z-meta z-function-call z-ts"><span class="z-variable z-other z-object z-ts">oscNode</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-entity z-name z-function z-ts">start</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span><span class="z-source z-ts"><span class="z-meta z-function-call z-ts"><span class="z-support z-function z-ts">setTimeout</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-arrow z-ts"><span class="z-meta z-parameters z-ts"><span class="z-punctuation z-definition z-parameters z-begin z-ts">(</span><span class="z-punctuation z-definition z-parameters z-end z-ts">)</span></span> </span><span class="z-meta z-arrow z-ts"><span class="z-storage z-type z-function z-arrow z-ts">=></span> </span><span class="z-meta z-function-call z-ts"><span class="z-variable z-other z-object z-ts">oscNode</span><span class="z-punctuation z-accessor z-ts">.</span><span class="z-support z-function z-ts">stop</span></span><span class="z-meta z-brace z-round z-ts">(</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-separator z-comma z-ts">,</span> <span class="z-constant z-numeric z-decimal z-ts">3000</span><span class="z-meta z-brace z-round z-ts">)</span><span class="z-punctuation z-terminator z-statement z-ts">;</span>
</span></code></pre><p>For a list of all effects see <a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API#defining_audio_effects_filters rel=noopener target=_blank>MDNs list of audio effects filters</a>.<h2 id=dynamically-changing-audio-parameters>Dynamically Changing Audio Parameters</h2><p>Several of the parameters defined for the preceding nodes such as the <code>frequency</code> of an oscillator or the <code>gain</code> of the gain node can be changed dynamically while the audio is playing. However, it is best to not directly write to the corresponding property but to use the methods available for <a href=https://developer.mozilla.org/en-US/docs/Web/API/AudioParam rel=noopener target=_blank><code>AudioParam</code></a>, the underlying interface. These allow for much more control over when and how the values change such as with <a href=https://developer.mozilla.org/en-US/docs/Web/API/AudioParam/setValueAtTime rel=noopener target=_blank><code>AudioParam#setValueAtTime</code></a>.<h2 id=additional-resources>Additional Resources</h2><ul><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API rel=noopener target=_blank>Mozilla Developer Network on the Web Audio API</a></ul></div></article></main><footer class=footer><p class=footer__content><span class=footer__copy> © 2025 F. Rilling<br> </span> <span class=footer__tech> Source code available at GitHub: <a href=https://github.com/RillingDev/rilling.dev rel=noopener target=_blank>Contents</a>, <a href=https://github.com/RillingDev/rilling.dev_theme rel=noopener target=_blank>Theme</a>. <br> This site uses open source components. A full list can be found in the repositories linked above. </span></footer>