<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Configuration | Nivis</title>

  
  

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Noto+Serif+SC:wght@200..900&family=STIX+Two+Text:ital,wght@0,400..700;1,400..700&family=Ysabeau:ital,wght@0,1..1000;1,1..1000&display=swap" rel="stylesheet">
  <link rel='stylesheet' href='https://chinese-fonts-cdn.deno.dev/packages/lxgwwenkaibright/dist/LXGWBright-Regular/result.css' />
  <link rel='stylesheet' href='https://chinese-fonts-cdn.deno.dev/packages/syst/dist/SourceHanSerifCN/result.css' />
  <link rel='stylesheet' href='https://unpkg.com/ress/dist/ress.min.css'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jQuery.mmenu/8.5.10/mmenu.min.css">
  <link rel="stylesheet" href="https://salif.github.io/zola-themes-collection/demo/nivis/style.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet">

  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-svg.js"></script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          // Unwrap code blocks for MathJax
          // 1. Display Math (```math-display ... ```)
          document.querySelectorAll('code.language-math-display').forEach(el => {
              const pre = el.parentElement;
              if (pre.tagName === 'PRE') {
                  const math = el.textContent.trim();
                  const div = document.createElement('div');
                  div.textContent = math;
                  pre.replaceWith(div);
              }
          });

          // 2. Inline Math (`$ ... $`)
          document.querySelectorAll('code').forEach(el => {
              if (el.classList.contains('language-math-display')) return;
              if (el.parentElement.tagName === 'PRE') return;

              const text = el.textContent.trim();
              // Check if it looks like math: $...$
              if (text.startsWith('$') && text.endsWith('$') && !text.startsWith('$$')) {
                  const span = document.createElement('span');
                  span.textContent = text;
                  el.replaceWith(span);
              }
          });
          
          // Trigger MathJax to process the new elements
          if (typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
              MathJax.typesetPromise();
          }
      });
  </script>
  

  
<!-- Primary Meta Tags -->
 
<meta
  name="description"
  content="configuration guide"
/>

<!-- Open Graph / Facebook -->
<meta property="og:title" content="Configuration | Nivis" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://salif.github.io/zola-themes-collection/demo/nivis/posts/configure/" />

<meta property="article:published_time" content="1980-01-01" />
<meta property="article:modified_time" content="1980-01-01" />

<meta property="article:section" content="posts" />
<!--
  
    
      
        <meta property="article:tag" content="guide">
      
    
  
-->


</head>

<body class="body-block">
  <div id="sidebar-mask" onclick="toggleSidebar()"></div>
  
  <div id="sidebar" class="">
    <div class="logo-title">
      <div class="title-inner">
        
        <div class="title">
          <h3><a href="https://salif.github.io/zola-themes-collection/demo/nivis/">Nivis</a></h3>
          <div class="description">
            <p>A clean zola theme for bloggers</p>
          </div>
        </div>
      </div>
      <ul class="social-links">
        
        <li>
          <a href="https://github.com/Resorie/zola-theme-nivis" aria-label="Github">
            <i class="fab fa-github"></i>
          </a>
        </li>
        
      </ul>
      <div class="sidebar-action">
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/about/">About Me</a>
      </div>
      <nav class="sidebar-nav">
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/">Home</a>
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/posts/">Posts</a>
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/archive/">Archives</a>
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/tags/">Categories</a>
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/links/">Links</a>
      </nav>
    </div>
  </div>
  

  <div id="main">
    
    <div class="page-top animated fadeInDown">
      <nav class="nav">
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/">Home</a>
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/posts/" class="active">Posts</a>
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/about/" >About</a>
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/archive/" >Archives</a>
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/tags/" >Categories</a>
        <a href="https://salif.github.io/zola-themes-collection/demo/nivis/links/" >Links</a>
      </nav>
      <div class="information">
        <div class="back_btn">
          <a onclick="window.history.go(-1)" aria-label="Go back"><i class="fas fa-chevron-left"></i></a>
        </div>
        <div class="theme_btn">
          <a onclick="toggleTheme()" aria-label="Toggle theme"><i class="fas fa-moon" id="theme-icon"></i></a>
        </div>
        <div class="feed_btn">
          <a class="feed-icon" aria-label="RSS Feed"><i class="fas fa-rss"></i></a>
          <div class="feed-dropdown">
            <a href="https://salif.github.io/zola-themes-collection/demo/nivis/atom.xml" target="_blank">Atom</a>
            <a href="https://salif.github.io/zola-themes-collection/demo/nivis/rss.xml" target="_blank">RSS</a>
          </div>
        </div>
        <div class="avatar_btn">
          <a onclick="toggleSidebar()" aria-label="Toggle sidebar"><i class="fas fa-bars"></i></a>
        </div>
      </div>
    </div>
    
    <div class="autopagerize_page_element">
      <div class="content animated fadeIn ">
         

<article class="content-article">
  <main class="article-content">
    <div class="article-intro-container">
        <div class="intro-header">
            <h1 class="heading">Configuration</h1>
            <div class="meta-line">
                
                <span class="date">Jan. 01, 1980</span>
                
                
                
                <span class="separator">/</span>
                <span class="tags">
                
                <a href="https://salif.github.io/zola-themes-collection/demo/nivis/tags/guide/">#guide</a>
                
                </span>
                
            </div>
        </div>

        <div class="intro-body">
            
            <div class="intro-abstract">
                <div class="abstract-title">ABSTRACT</div>
                <p class="description">configuration guide</p>
            </div>
            

            
            <details class="intro-toc">
                <summary class="toc-title">CONTENTS</summary>
                <div class="toc-wrapper">
                <ul class="toc-list">
                    <li class="toc-root">
                        <a href="#" class="active-toc">Configuration</a>
                        
                        <ul>
                            
                            <li>
                                <a href="https://salif.github.io/zola-themes-collection/demo/nivis/posts/configure/#social-links">Social Links</a>
                                
                            </li>
                            
                            <li>
                                <a href="https://salif.github.io/zola-themes-collection/demo/nivis/posts/configure/#pinned-posts">Pinned Posts</a>
                                
                            </li>
                            
                            <li>
                                <a href="https://salif.github.io/zola-themes-collection/demo/nivis/posts/configure/#math-display">Math display</a>
                                
                            </li>
                            
                            <li>
                                <a href="https://salif.github.io/zola-themes-collection/demo/nivis/posts/configure/#special-pages">Special Pages</a>
                                
                            </li>
                            
                        </ul>
                        
                    </li>
                </ul>
                </div>
            </details>
            
        </div>
    </div>
    
    <h2 id="social-links">Social Links</h2>
<p>Nivis enables you to display some of your social links . Add your social links in <code>config.toml</code> according to the following example:</p>
<pre data-lang="toml" class="language-toml z-code"><code class="language-toml" data-lang="toml"><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">extra</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">social_links</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span>
</span><span class="z-source z-toml">    <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">name</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>github<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">url</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>https://github.com/username<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">    <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">name</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>email<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">url</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>mailto:your@email.com<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">    <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">name</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>twitter<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">url</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>https://twitter.com/username<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">    <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">name</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>rss<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">url</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>/atom.xml<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml"><span class="z-punctuation z-definition z-array z-end z-toml">]</span>
</span></code></pre>
<p>Supported icons include most brands (e.g., <code>github</code>, <code>twitter</code>, <code>bilibili</code>) and generic names like <code>email</code>, <code>rss</code>, <code>link</code>, <code>globe</code>.</p>
<h2 id="pinned-posts">Pinned Posts</h2>
<p>Nivis allows you to pin special posts so that they are placed at the frontmost of the post list. To pin posts, add the following to the front matter of your <code>posts/_index.md</code>:</p>
<pre data-lang="toml" class="language-toml z-code"><code class="language-toml" data-lang="toml"><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">extra</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">pinned_posts</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span>
</span><span class="z-source z-toml">    <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>posts/pinned_post1.md<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-separator z-array z-toml">,</span>
</span><span class="z-source z-toml">    <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>posts/pinned_post2.md<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span>
</span><span class="z-source z-toml"><span class="z-punctuation z-definition z-array z-end z-toml">]</span>
</span></code></pre>
<h2 id="math-display">Math display</h2>
<p>Nivis theme supports Mathjax for rendering math contents. Add these contents to your <code>config.toml</code> to enable math rendering:</p>
<pre data-lang="toml" class="language-toml z-code"><code class="language-toml" data-lang="toml"><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">extra</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">math</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>mathjax<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span>
</span></code></pre>
<p>Due to the weirdsome escape rules of zola, some of your math content might not display correctly. I referred to <a href="https://zola.discourse.group/t/maths-support-via-mathjax/1000">this post</a> for a solution. If your math content fails to display, follow the steps below:</p>
<p>After adding or changing your post, run <code>themes/nivis/scripts/wrap_math.py</code> to process the markdown files. After running the script, (or of course you can change them manually), your math contents should be wrapped in code blocks, e.g.:</p>
<pre data-lang="markdown" class="language-markdown z-code"><code class="language-markdown" data-lang="markdown"><span class="z-text z-html z-markdown"><span class="z-meta z-paragraph z-markdown">This is an inline math example: <span class="z-markup z-raw z-inline z-markdown"><span class="z-punctuation z-definition z-raw z-begin z-markdown">`</span>$e^{\pi i}=-1$<span class="z-punctuation z-definition z-raw z-end z-markdown">`</span></span>.
</span></span><span class="z-text z-html z-markdown"><span class="z-meta z-paragraph z-markdown">
</span></span><span class="z-text z-html z-markdown"><span class="z-meta z-paragraph z-markdown">And this is a display math example:
</span></span><span class="z-text z-html z-markdown"><span class="z-meta z-paragraph z-markdown"><span class="z-meta z-code-fence z-definition z-begin z-text z-markdown-gfm"><span class="z-punctuation z-definition z-raw z-code-fence z-begin z-markdown">```</span><span class="z-constant z-other z-language-name z-markdown">math-display</span>
</span><span class="z-markup z-raw z-code-fence z-markdown-gfm"></span></span></span><span class="z-text z-html z-markdown"><span class="z-meta z-paragraph z-markdown"><span class="z-markup z-raw z-code-fence z-markdown-gfm">$$
</span></span></span><span class="z-text z-html z-markdown"><span class="z-meta z-paragraph z-markdown"><span class="z-markup z-raw z-code-fence z-markdown-gfm">\sum_{i=1}^n i^3=\frac{n^2(n+1)^2}{4}
</span></span></span><span class="z-text z-html z-markdown"><span class="z-meta z-paragraph z-markdown"><span class="z-markup z-raw z-code-fence z-markdown-gfm">$$
</span></span></span><span class="z-text z-html z-markdown"><span class="z-meta z-paragraph z-markdown"><span class="z-markup z-raw z-code-fence z-markdown-gfm"></span><span class="z-meta z-code-fence z-definition z-end z-text z-markdown-gfm"><span class="z-punctuation z-definition z-raw z-code-fence z-end z-markdown">```</span>
</span></span></span></code></pre>
<p>When building the site, zola would warn that it fails to find a render rule for language <code>math-display</code>. Of course, we don't need these warnings. Add the following lines to your <code>config.toml</code> to get rid of these warnings:</p>
<pre data-lang="toml" class="language-toml z-code"><code class="language-toml" data-lang="toml"><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">markdown</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">extra_syntaxes_and_themes</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span><span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>themes/nivis/syntaxes/<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-definition z-array z-end z-toml">]</span>
</span></code></pre>
<h2 id="special-pages">Special Pages</h2>
<p>Nivis theme provides About page, Archives page, Categories page and Links page to help you fully customize your site. Move on to <a href="https://salif.github.io/zola-themes-collection/demo/nivis/posts/sp-pages/">Special Pages</a> for more information.</p>

  </main>
  <section class="article-action-block">
    <!-- AddToAny BEGIN -->
    <div class="addtoany-block">
      <a
        href="https://www.addtoany.com/share#url=https:&#x2F;&#x2F;salif.github.io&#x2F;zola-themes-collection&#x2F;demo&#x2F;nivis&#x2F;posts&#x2F;configure&#x2F;&amp;title=Configuration"
        target="_blank"
        rel="noopener noreferrer nofollow"
        ><img class="button" src="https://static.addtoany.com/buttons/a2a.svg"
      /></a>
      <a
        href="https://www.addtoany.com/add_to/mastodon?linkurl=https:&#x2F;&#x2F;salif.github.io&#x2F;zola-themes-collection&#x2F;demo&#x2F;nivis&#x2F;posts&#x2F;configure&#x2F;&amp;linkname=Configuration"
        target="_blank"
        rel="noopener noreferrer nofollow"
        ><img
          class="button"
          src="https://static.addtoany.com/buttons/mastodon.svg"
      /></a>
      <a
        href="https://www.addtoany.com/add_to/telegram?linkurl=https:&#x2F;&#x2F;salif.github.io&#x2F;zola-themes-collection&#x2F;demo&#x2F;nivis&#x2F;posts&#x2F;configure&#x2F;&amp;linkname=Configuration"
        target="_blank"
        rel="noopener noreferrer nofollow"
        ><img
          class="button"
          src="https://static.addtoany.com/buttons/telegram.svg"
      /></a>
      <a
        href="https://www.addtoany.com/add_to/twitter?linkurl=https:&#x2F;&#x2F;salif.github.io&#x2F;zola-themes-collection&#x2F;demo&#x2F;nivis&#x2F;posts&#x2F;configure&#x2F;&amp;linkname=Configuration"
        target="_blank"
        rel="noopener noreferrer nofollow"
        ><img
          class="button"
          src="https://static.addtoany.com/buttons/twitter.svg"
      /></a>
      <a
        href="https://www.addtoany.com/add_to/facebook?linkurl=https:&#x2F;&#x2F;salif.github.io&#x2F;zola-themes-collection&#x2F;demo&#x2F;nivis&#x2F;posts&#x2F;configure&#x2F;&amp;linkname=Configuration"
        target="_blank"
        rel="noopener noreferrer nofollow"
        ><img
          class="button"
          src="https://static.addtoany.com/buttons/facebook.svg"
      /></a>
      <a
        href="https://www.addtoany.com/add_to/line?linkurl=https:&#x2F;&#x2F;salif.github.io&#x2F;zola-themes-collection&#x2F;demo&#x2F;nivis&#x2F;posts&#x2F;configure&#x2F;&amp;linkname=Configuration"
        target="_blank"
        rel="noopener noreferrer nofollow"
        ><img class="button" src="https://static.addtoany.com/buttons/line.svg"
      /></a>
    </div>
    <!-- AddToAny END -->
    
  </section>
  <br />
</article>

      </div>
    </div>
    <div class="page-footer">
      <div class="footer-content">
        <span>Based on theme <a href="https://github.com/Resorie/zola-theme-nivis">Nivis</a><span class="separator">/</span>Powered by <a href="https://www.getzola.org/" target="_blank">Zola</a></span>
      </div>
    </div>
  </div>

  <script>
    function toggleSidebar() {
      var sidebar = document.getElementById("sidebar");
      var mask = document.getElementById("sidebar-mask");
      sidebar.classList.toggle("open");
      mask.classList.toggle("open");
    }

    function toggleTheme() {
      const body = document.body;
      const icon = document.getElementById("theme-icon");
      if (body.getAttribute("data-theme") === "dark") {
        body.setAttribute("data-theme", "light");
        icon.classList.remove("fa-sun");
        icon.classList.add("fa-moon");
        localStorage.setItem("theme", "light");
      } else {
        body.setAttribute("data-theme", "dark");
        icon.classList.remove("fa-moon");
        icon.classList.add("fa-sun");
        localStorage.setItem("theme", "dark");
      }
    }

    // Initialize theme
    (function() {
      const savedTheme = localStorage.getItem("theme");
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      if (savedTheme === "dark" || (!savedTheme && prefersDark)) {
        document.body.setAttribute("data-theme", "dark");
        // Icon update will happen after DOM load if we put this script at the end, 
        // but since this is inline at the end of body, we might need to wait for DOMContentLoaded if the icon isn't ready?
        // Actually, this script is at the end of body, so elements should be parsed.
        const icon = document.getElementById("theme-icon");
        if (icon) {
            icon.classList.remove("fa-moon");
            icon.classList.add("fa-sun");
        }
      }
    })();

    // Footnote Navigation
    document.addEventListener("DOMContentLoaded", function() {
        // Code Block Language Label
        document.querySelectorAll('pre code').forEach(code => {
            const pre = code.parentElement;
            if (!pre.hasAttribute('data-lang')) {
                const classes = code.className.split(' ');
                for (const cls of classes) {
                    if (cls.startsWith('language-')) {
                        pre.setAttribute('data-lang', cls.replace('language-', ''));
                        break;
                    }
                }
            }
        });
    });
  </script>

  <script src="//instant.page/5.1.0" type="module" integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>
</body>

</html>
