<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Killing in the name of Privacy</title>

        <meta name="description"
              content="How an AD blocker killed my work of months and how is this related to telemetry in FOSS">
        <link rel="icon"
              type="image/x-icon"
              href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/images/logo.svg?h=317a88501f91157f0cdc">

        <link href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/main.css?h=f85c3d699fb7dbadce40"
              rel="stylesheet">

        <link rel="alternate"
              type="application/atom+xml"
              title="Blog"
              href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/atom.xml">

        <meta property="og:title" content="Killing in the name of Privacy">
        <meta property="og:description" content="How an AD blocker killed my work of months and how is this related to telemetry in FOSS">
        <meta property="og:image"
              content="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/images/logo.svg?h=317a88501f91157f0cdc">
        <meta property="og:url" content="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog/privacy/">
    </head>

    <body class="flex flex-col p-3 mx-auto min-h-screen text-lg text-gray-100 break-words bg-gray-900 lg:px-5 2xl:container">
        <header class="flex gap-x-6 items-center py-2 px-2.5 mb-1 bg-gray-800 rounded-full">
            <a class="transition duration-500 hover:scale-110"
               href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod"
               aria-hidden="true">
                <img class="m-0 w-12 h-12 rounded-full"
                     src="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/images/logo.svg"
                     alt="">
            </a>
            <nav class="flex gap-x-5 items-center font-bold">
                
                    <a class="p-1 no-underline" href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/">Home</a>
                
                    <a class="p-1 no-underline" href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog">Blog</a>
                
                    <a class="p-1 no-underline" href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/tags">Tags</a>
                
            </nav>
        </header>

        <main class="leading-relaxed">
            
    <article>
        <div class="mb-3">
            <h1>Killing in the name of Privacy</h1>

            
    <div class="mt-2 mb-4 text-sm leading-normal text-gray-300">
        <time datetime="2023-11-23">2023-11-23</time><p class="my-0">
            Tags:
            <a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/tags/web">#web</a><span class="pr-1.5">,</span><a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/tags/linux">#linux</a><span class="pr-1.5">,</span><a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/tags/foss">#foss</a><span class="pr-1.5">,</span><a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/tags/selfhosting">#selfhosting</a></p>

        <p class="my-0">Reading time: ~11min</p>

        <hr class="my-2.5">
    </div>

        </div>

        <p>An AD blocker killed a project that I was working on for 4 months.
It was one commit adding 2 lines that killed 419 commits with more than 2000 total lines of code.</p>
<p>The script that powers my project was placed on the filter list "EasyPrivacy".
But is the project that I designed with privacy as the first feature trying to invade your privacy?</p>
<p>This brings up the topic about telemetry in FOSS projects.
Is telemetry inherently bad?
Is there a way to collect telemetry without comprimising privacy?</p>
<span id="continue-reading"></span>
    <p class="p-1 my-4 text-base rounded sm:hidden bg-yellow-200/20">Landscape mode recommended on mobile devices</p>

    
        <div class="px-4 pt-3 pb-0.5 mt-3 mb-1 bg-gray-800 rounded">
            <p class="text-2xl font-bold">Contents</p>

            <nav>
                <ul class="ml-0 list-none">
                    
                        
                            <li><a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog/privacy/#motivation">Motivation</a></li>
                        
                    
                        
                            <li><a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog/privacy/#silent-block">Silent block</a></li>
                        
                    
                        
                            <li><a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog/privacy/#oxitraffic">OxiTraffic</a></li>
                        
                    
                        
                            <li><a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog/privacy/#communication">Communication</a></li>
                        
                    
                        
                            <li><a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog/privacy/#telemetry">Telemetry</a></li>
                        
                    
                        
                            <li><a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog/privacy/#protest">Protest</a></li>
                        
                    
                </ul>
            </nav>
        </div>
    

<h2 id="motivation"><a class="text-white no-underline transition-none hover:underline"
   href="#motivation">Motivation</a></h2>
<p>I invest a lot of time in writing posts on this blog.
We are talking about days for each post, not only hours.
I want to offer quality content to people interested in Rust, Linux, FOSS and self-hosting.</p>
<p>After investing so much time in a product that you share for free with the public, you want to find out how people receive it.
As Johannes Gross said in German:</p>
<p><em>"Der Applaus ist das Brot des KÃ¼nstlers"</em></p>
<p>Its translation is:</p>
<p><em>"Applause is the artist's bread and butter"</em>
or
<em>"Applause is what keeps artists going"</em></p>
<p>I am not an artist.
I keep my blog posts technical and don't want to open a discussion about what art is.
But I want to see that I don't invest that much time only for a couple of people.
Although it is fun to write posts about topics I am passionate about, if I don't help enough people with my writing, I would rather do something more effective.</p>
<p>Therefore, I was looking for a tool to find out (1) how many people read my posts, (2) how much time they spend on them and (3) on which sites are my posts shared.</p>
<p>(1) tells me that my writing is effective and helps many.
In addition, if a post has an estimated reading time of 30 minutes and the average time reported by (2) is much lower than 30 minutes, then I know that either the post was not well received and people left the page early or that I should write shorter posts.
Finally, (3) tells me where I should promote my posts.
If I see that I have many visits coming from Reddit, then maybe I should promote my future posts on Reddit although I try to avoid proprietary platforms.</p>
<p>My search for such a tool didn't lead to any good results.
The self-hosted FOSS projects that I found collect too much data for my taste.</p>
<p>I don't want to log the IP of my visitors.
I don't want to know from which country they are and what OS, browser etc. they use.
All of this can be used for fingerprinting.
I wanted a tool that doesn't collect any data that can help identifying users.</p>
<p>And, of course, I wanted a tool written in Rust to not waste resources on my home server ðŸ¦€</p>
<p>So I went ahead and started the project <a href="https://codeberg.org/mo8it/oxitraffic/">OxiTraffic</a>.
<em>It won't take a long time</em>, I thoughtâ€¦
<em>Maybe two weeks</em>, I thoughtâ€¦</p>
<p>Well, here we are 4 months later ðŸ˜…
But hey, at least I consider the project to be almost done now and could just release version 1.0 in the next days.</p>
<p>BUT THENâ€¦</p>
<h2 id="silent-block"><a class="text-white no-underline transition-none hover:underline"
   href="#silent-block">Silent block</a></h2>
<p>I went to my website 3 days ago just to see that OxiTraffic is not working anymore because the script that powers it is blocked.
Did I fuck up something related to <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">CORS</a> again?</p>
<p>Nope, the network panel in Firefox shows that the AD blocking extension <em>uBlock Origin</em> blocks the script.
WHAT? WHY? ðŸ˜§</p>
<p>It turns out that OxiTraffic has been <em>silently</em> <a href="https://github.com/easylist/easylist/commit/4e86e2f57ec86c9867cb367562740f71488ae06f">added to the <strong>EasyPrivacy</strong> list</a>.
This filter list is activated <em>by default</em> in uBlock Origin to protect your privacy.
But is OxiTraffic bad towards privacy?
I thought that I designed it from the ground up to be privacy preservingâ€¦</p>
<p>Before judging, let's talk about what OxiTraffic does and collects first.</p>
<h2 id="oxitraffic"><a class="text-white no-underline transition-none hover:underline"
   href="#oxitraffic">OxiTraffic</a></h2>
<p>To start with, OxiTraffic <strong>doesn't collect ANY personal data</strong>.
No IP, no cookies, no <code>User-Agent</code>, nothing is touched that could be used to identify a user on the web, not even indirectly.</p>
<p>All what OxiTraffic collects is:</p>
<ul>
<li>The time of the visit.</li>
<li>The amount of time spent on the page.</li>
<li>The referrer origin (no query parameters, no path, only the origin).</li>
</ul>
<div class="rounded-xl bg-sky-400/20">
    <div class="px-2 pt-2 pb-1 my-3 text-white">
        <p class="font-bold">Note</p>
        <p>You can skip to the next section if you are not interested in the technical details of how OxiTraffic is designed to protect the privacy of its visitors.</p>

    </div>
</div>
<p>The tiny JS script that powers OxiTraffic on the browser of the visitor (client) sends only 2-3 requests:</p>
<ol>
<li>The first request is sent at the beginning to tell the backend that a visitor arrived. The backend responds with a temporary ID to be used for the next two requests. This ID is deleted when the page is left.</li>
<li>The second request is sent after spending at least 20 seconds on the page in the foreground (not when the tab is hidden). This request leads to counting the visit. The 20 seconds of delay is required to filter out bot traffic and only count valuable visits.</li>
<li>The third and last request is sent when the tab is closed or the page is changed. This is not reliable because of the many ways a browser can be closed. This is why I said 2-3 requests. But when this request is actually sent, it tells the backend how much time the user spent on the page.</li>
</ol>
<p>What the backend sees from these three requests:</p>
<ol>
<li>The first request tells the backend that a random client called a page on the website. It can be a bot, it can be a human, the backend knows nothing about that client. But it sends a temporary ID for the next two requests.</li>
<li>The second request tells the backend that the client spent at least 20 seconds on the page. The backend verifies that claim by checking the arrival time corresponding to the temporary ID. If this claim of the minimum time spent is fulfilled, the backend counts the visit in the hope that this was a human. This request also sends the referrer <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/origin">origin</a> (basically the domain with the scheme <code>http</code>/<code>https</code>). This means that if I click on the link to that page from <code>https://www.reddit.com/path?key=value</code>, only <code>https://www.reddit.com</code> is sent.</li>
<li>The third request tells the backend that the client left the page and claims to have spent a given amount of time on the page in the foreground. The backend doesn't know when this time in the foreground was spent. It doesn't know when the tab was in the background. It doesn't know to which page the client possibly went afterwards. The temporary ID is deleted on the change of the page because it is a simple variable in the script. It is not stored in a cookie or something. In fact, <strong>if the visitor just reloads the page, the backend can't differentiate him from a completely new visitor.</strong></li>
</ol>
<div class="rounded-xl bg-sky-400/20">
    <div class="px-2 pt-2 pb-1 my-3 text-white">
        <p class="font-bold">Note</p>
        <p>It is important to note that browsers send the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer"><code>Referer</code></a> header automatically which can contain the full referrer URL instead of only containing the origin.
OxiTraffic only sends the origin and respects the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy"><code>no-referrer</code> policy</a>.
This means that OxiTraffic collects less information about the referrer than what browsers send anyway.</p>

    </div>
</div>
<p>You can verify my claims by taking a look at the <a href="https://codeberg.org/mo8it/oxitraffic/src/commit/463b48bea54522eda892b827416460ce790a581d/templates/count.js">commented source code of the script</a>.</p>
<h2 id="communication"><a class="text-white no-underline transition-none hover:underline"
   href="#communication">Communication</a></h2>
<p>When I found out about being blocked, I thought that this has to be a misunderstanding.
Maybe someone thought that this is yet another tracking software like almost all alternatives.</p>
<p>No problem, I thought.
I just have to explain that OxiTraffic is not like the common alternatives and isn't a privacy concern.</p>
<p>So I opened <a href="https://github.com/easylist/easylist/issues/17826">an issue on Github</a> and asked for reverting that blocking while explaining the details that I mentioned above.
I addressed some concerns of a person that isn't a maintainer and offered answering any further questions regarding privacy.</p>
<p>At the end, a maintainer closes the issue only with the <a href="https://github.com/easylist/easylist/issues/17826#issuecomment-1822863010">reply</a>:</p>
<p><em>"I think that it can be left blocked."</em></p>
<p>You might say, "so what? It is his software and he has the final decision. He doesn't even have to take the issue seriously and communicate the reason of the blocking.".</p>
<p>Yes, you are right.
This applies to every FOSS project.
But I really think that we have to question the power of AD blockers.</p>
<p>You normally install an AD blocker just to get rid of ADs and make the internet tolerable.
Additionally blocking requests that are privacy invasive is a feature that I appreciate in an AD blocker like uBlock Origin.
But what if it also blocks requests not related to privacy?</p>
<p>I would understand if someone wants to block the telemetry of OxiTraffic for himself out of minimalism, but not privacy!
And most importantly, don't block it on a list called Easy<strong>Privacy</strong> that is activated by default on every installation of uBlock Origin (and probably other AD blockers using this list).</p>
<p>They killed my project in the name of privacy, although we "believe in the same privacy".
Just swap "Privacy" with "God" and think about parallelsâ€¦</p>
<p>I am a user of Linux, Firefox, uBlock Origin, etc. because privacy is one of my main concerns in our digital world.
But if someone with enough power over the internet decides that I violate his definition of privacy, then I am doomed to despair.</p>
<h2 id="telemetry"><a class="text-white no-underline transition-none hover:underline"
   href="#telemetry">Telemetry</a></h2>
<p>I am just one vicitim of this almost religious fight against telemetry in the FOSS world.
You might be able to remember a couple of cases where anonymous telemetry was criticized to death in projects related to Linux and FOSS.</p>
<p>What even is software telemetry about?</p>
<p>It is about collecting data on remote points and automatically sending it to a central point for monitoring.</p>
<p>Is telemetry <em>inherently</em> bad?</p>
<p>Sadly, it tends to be bad because of how it is often misused, especially by proprietary software.
But just like any other tool: It depends on its usage!</p>
<p>Knifes as a tool can be harmful.
Some people misuse them to harm others.
But this doesn't mean that we should ban knifes and treat everyone trying to safely use them as a serial killer.</p>
<p>If the design of a telemetry system has privacy as one of the highest priorities as I explained with OxiTraffic, then it is a tool that can highly benefit the project using it without harming users.
It gives insight about what creators/developers should focus on and how their product is received.
If you are interested in that project and want to support it, then you should support its attempts to collect anonymous telemetry!</p>
<p>Don't just blindly send all data that a project asks for, even if it is a FOSS project that you want to support.
Someone should question every piece of data that is collected and privacy concerns have to raised.
But also don't approach it with the naive mentality "telemetry = bad"!</p>
<p>If you think that something is privacy invasive, then saying only that is not constructive.
You are claiming that, so you have the burden of proof!
Prove how the collected data can be used to track or identify a user.
And maybe start with a definition of privacy to put everyone on the same page.</p>
<h2 id="protest"><a class="text-white no-underline transition-none hover:underline"
   href="#protest">Protest</a></h2>
<p>Is OxiTraffic really dead?
It is dead only on my website for users of AD blockers.
But it can still deliver valuable statistics from users that don't have an AD blocker activated on my website.</p>
<p>It is also dead on <a href="https://hyteck.de/">the website of @moanos</a> because he posted about self-hosting it on his blog.</p>
<p>I could use my reverse proxy to point the blocked script to another URL and then redirect that request.
But I don't want to start such a ping-pong war with EasyList.
And I also don't want to risk blocking my whole domain instead of just blocking the script.
Do you feel their power?</p>
<p>You could protest with me by self-hosting OxiTraffic on your website.
Instructions can be found in the <a href="https://codeberg.org/mo8it/oxitraffic">README</a>.
It is one binary that you can host in a container or directly on the host system.
I would love to help you host it to let you profit from its anonymous statistics.
<a href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/contact/">Contact me</a> if you need any help ðŸ¥°</p>
<p>As a <strong>demo</strong>, you can find a presentation of the <em>evil</em> data that OxiTraffic collects about my website <a href="https://oxitraffic.mo8it.com">on the dashboard</a>.</p>
<p>After hosting OxiTraffic, you could additionally send <a href="https://github.com/easylist/easylist">EasyList</a> a pull request to let them block your <em>evil</em> script too and kill more in the name of <em>their</em> privacy.</p>

    </article>

    
        <nav class="flex flex-col gap-y-3 mt-8">
            
    
    <a class="py-1.5 px-3 my-2 no-underline bg-gray-800 rounded-xl transition duration-500 hover:scale-[1.02]"
       href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog/quadlet/">Next post: Quadlet: Running Podman containers under systemd<hr class="mt-1 mb-3 rounded-none border-gray-600"><span class="text-white">Finally, Podman has a Docker Compose alternative</span></a>


            
    
    <a class="py-1.5 px-3 my-2 no-underline bg-gray-800 rounded-xl transition duration-500 hover:scale-[1.02]"
       href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/blog/faster-rust-serialization/">Previous post: Faster Rust Serialization<hr class="mt-1 mb-3 rounded-none border-gray-600"><span class="text-white">How to speed up serialization in Rust by more than 2x</span></a>


        </nav>
    
    <section class="mt-8 text-base text-center">
        <p>
            You can suggest improvements on the <a href="https://codeberg.org/salif/mo8it-mod/src/branch/main/content/blog">website's repository</a>
        </p>
        <p>
            Content license: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>
        </p>
    </section>

        </main>

        <footer class="pt-2 pb-3 mt-auto">
            <img class="m-0 mx-auto w-20 h-20"
                 src="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/images/happy_ferris.svg"
                 alt="">
            <nav class="flex flex-col gap-y-3 justify-around py-3 text-center bg-gray-800 rounded sm:flex-row sm:rounded-full">
                
                    <a class="text-sm no-underline" href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/contact">Contact</a>
                
                    <a class="text-sm no-underline" href="https://codeberg.org/salif/mo8it-mod">Source Code</a>
                
                    <a class="text-sm no-underline" href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/legal-notice">Legal Notice</a>
                
                    <a class="text-sm no-underline" href="https://salif.github.io/zola-themes-collection/demo/mo8it-mod/privacy-policy">Privacy Policy</a>
                
            </nav>
        </footer>
                <script async data-goatcounter="https://sgi.goatcounter.com/count"
                    src="//gc.zgo.at/count.js"></script>
    </body>
</html>
